# stories.yml
version: "3.1"

stories:
  - story: Flujo simple - Saludar y despedir
    steps:
      - intent: saludar
      - action: utter_saludar
      - intent: despedirse
      - action: utter_despedirse

  - story: Flujo simple - Preguntar qué hace
    steps:
      - intent: soy_bot
      - action: utter_soy_bot

  - story: Flujo Usuario - Consultar mis tareas (DB)
    steps:
      - intent: consultar_mis_tareas
      - action: action_consultar_mis_tareas # Llama al código Python (DB)

  - story: Flujo Usuario - Marcar tarea completada (DB)
    steps:
      - intent: marcar_tarea_completada
        entities:
          - tarea_nombre: "lavar los platos"
      - slot_was_set:
          - tarea_nombre: "lavar los platos"
      - action: action_marcar_tarea_completada # Llama al código Python (DB)
      - action: utter_accion_exitosa

  - story: Flujo Usuario - Preguntar cómo hacer tarea (DB)
    steps:
      - intent: preguntar_como_hacer_tarea
        entities:
          - tarea_id: "5"
      - slot_was_set:
          - tarea_id: "5"
      - action: action_explicar_tarea # Llama al código Python (DB)

  - story: Flujo Admin - Asignar tarea (DB)
    steps:
      - intent: asignar_tarea_miembro
        entities:
          - tarea_nombre: "pasear al perro"
          - miembro_nombre: "Juan"
      - slot_was_set:
          - tarea_nombre: "pasear al perro"
      - slot_was_set:
          - miembro_nombre: "Juan"
      - action: action_asignar_tarea_miembro # Llama al código Python (DB)
      - action: utter_accion_exitosa

  - story: Flujo Admin - Sugerir tarea (DB + Lógica)
    steps:
      - intent: sugerir_tarea_miembro
        entities:
          - miembro_nombre: "David"
      - slot_was_set:
          - miembro_nombre: "David"
      - action: action_sugerir_tarea_miembro # Llama al código Python (DB)

  - story: Flujo General - Consultar Ranking (DB)
    steps:
      - intent: consultar_ranking_semanal
      - action: action_consultar_ranking_semanal # Llama al código Python (DB)

  - story: Flujo General - Consultar Atributos (DB)
    steps:
      - intent: consultar_atributos_miembro
        entities:
          - miembro_nombre: "María"
      - slot_was_set:
          - miembro_nombre: "María"
      - action: action_consultar_atributos_miembro # Llama al código Python (DB)

  - story: Flujo General - Consultar Notificaciones (DB)
    steps:
      - intent: consultar_notificaciones
      - action: action_consultar_notificaciones # Llama al código Python (DB)
